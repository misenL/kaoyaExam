(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b650306"],{"7bca":function(t,e,a){t.exports=a.p+"img/time.cff7377f.png"},"7f7f":function(t,e,a){var s=a("86cc").f,p=Function.prototype,i=/^\s*function ([^ (]*)/,o="name";o in p||a("9e1e")&&s(p,o,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"918e":function(t,e,a){"use strict";var s=a("d402"),p=a.n(s);p.a},d402:function(t,e,a){},d5cd:function(t,e,a){t.exports=a.p+"img/failure.1f677533.png"},e4d5:function(t,e,a){t.exports=a.p+"img/success.29a6785d.png"},e768:function(t,e,a){t.exports=a.p+"img/already.bde8cab0.png"},fc66:function(t,e,a){t.exports=a.p+"img/location.a08e6983.png"},fdb1:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._l(t.examList,function(e,p){return s("van-cell",{key:p,attrs:{"is-link":""},on:{click:function(e){return t.showPopup(p)}}},[s("div",{staticClass:"item-name"},[t._v(t._s(e.exam_name))]),s("div",{staticClass:"item-time"},[s("img",{staticClass:"item-icon",attrs:{src:a("7bca"),alt:"时间："}}),s("span",{staticClass:"item-intro"},[t._v(t._s(e.start_time))])]),s("div",{staticClass:"item-location"},[s("img",{staticClass:"item-icon",attrs:{src:a("fc66"),alt:"地点："}}),s("span",{staticClass:"item-intro"},[t._v(t._s(e.school_name))])])])}),s("van-popup",{attrs:{position:"bottom",closeable:"","close-icon-position":"top-left"},model:{value:t.showRecruitPopup,callback:function(e){t.showRecruitPopup=e},expression:"showRecruitPopup"}},[s("div",{staticClass:"popup-div"},[s("span",[t._v("考试名称：")]),s("span",[t._v(t._s(t.popupName))])]),s("div",{staticClass:"popup-div"},[s("span",[t._v("考试时间：")]),s("span",[t._v(t._s(t.popupTime))])]),s("div",{staticClass:"popup-div"},[s("span",[t._v("考试地点：")]),s("span",[t._v(t._s(t.popupLoc))])]),s("div",{staticClass:"popup-div popup-div-center"},[s("img",{staticClass:"popup-icon",attrs:{src:a("e768"),alt:""}}),s("span",{staticClass:"popup-text"},[t._v("本场考试已招募人数：")]),s("span",{staticClass:"popup-text"},[t._v(t._s(t.popupText))])]),s("div",{staticClass:"popup-div popup-div-center"},[s("van-button",{staticClass:"popup-div__btn",attrs:{type:"info",disabled:t.full},on:{click:t.enter}},[t._v("报名")])],1)]),s("van-popup",{attrs:{round:""},model:{value:t.showCenterPopup,callback:function(e){t.showCenterPopup=e},expression:"showCenterPopup"}},[s("div",{staticClass:"success-popup"},[s("img",{staticClass:"success-icon",attrs:{src:t.centerImg,alt:""}}),s("span",{staticClass:"success-hints"},[t._v(t._s(t.message))])])])],2)},p=[],i=(a("7f7f"),{data:function(){return{userid:"",username:"",recruitedNumber:"",expectNumber:"",full:!1,popupIndex:0,popupName:"",popupTime:"",popupLoc:"",popupText:"",showRecruitPopup:!1,showCenterPopup:!1,centerImg:"",message:"",examList:[]}},created:function(){var t=this;this.axios.get("/api/exam/examlist").then(function(e){console.log(e);var s=e.data;s.code?(t.message="服务端出错，请重试",t.centerImg=a("d5cd"),t.showCenterPopup=!0):t.examList=s.data}),this.axios.get("/api/getKaoWuUserInfo").then(function(e){var s=e.data;s.code?(t.message="服务端出错，请重试",t.centerImg=a("d5cd"),t.showCenterPopup=!0):(t.userid=s.data.id,t.username=s.data.name)})},methods:{showPopup:function(t){var e=this;this.popupIndex=this.examList[t].exam_id,this.popupName=this.examList[t].exam_name,this.popupTime=this.examList[t].start_time,this.popupLoc=this.examList[t].school_name;var s="/api/exam/examinfo?exam_id=".concat(this.popupIndex);this.axios.get(s).then(function(t){var s=t.data;if(s.code)e.message="服务端繁忙，请重试",e.centerImg=a("d5cd"),e.showCenterPopup=!0;else{var p=s.data[0].examInvigilate,i=s.data[0].totalInvigilate;e.popupText="".concat(p," / ").concat(i),e.full=p===i}}).catch(function(t){}),this.showRecruitPopup=!0},enter:function(){var t=this,e=new FormData;e.append("id",this.userid),e.append("name",this.username),e.append("exam_id",this.popupIndex),this.axios.post("http://kaoya.huikaoedu.com/api/sign_upkaowu",e).then(function(e){console.log(e);var s=e.data;s.code?(t.message="报名失败，可能您已报名",t.centerImg=a("d5cd"),t.showCenterPopup=!0):(t.message="报名成功",t.centerImg=a("e4d5"),t.showCenterPopup=!0),t.axios.get("/api/exam/examinfo?exam_id=".concat(t.popupIndex)).then(function(e){console.log(e);var s=e.data;if(s.code)t.message="服务端繁忙，请重试",t.centerImg=a("e4d5"),t.showCenterPopup=!0;else{var p=s.data[0].examInvigilate,i=s.data[0].totalInvigilate;t.popupText="".concat(p," / ").concat(i),t.full=p===i}})})}},computed:{}}),o=i,n=(a("918e"),a("2877")),c=Object(n["a"])(o,s,p,!1,null,"12a39a79",null);e["default"]=c.exports}}]);